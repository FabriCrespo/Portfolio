---
import { t } from "../utils/i18n";

const personalImageAlt = "Fabricio Rene Crespo Rossel"
const imagePath = "/Portfolio/pfp.png"
---

<section id="about" class="container mx-auto px-6 py-20 lg:px-20 max-w-5xl">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div class="order-2 md:order-1 space-y-4 text-gray-600 dark:text-gray-400">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">{t('about.title')}</h2>
      <p class="text-base leading-relaxed" set:html={t('about.paragraph1')} />
      <p class="text-base leading-relaxed" set:html={t('about.paragraph2')} />
      <p class="text-base leading-relaxed" set:html={t('about.paragraph3')} />
      <p class="text-base leading-relaxed" set:html={t('about.paragraph4')} />
    </div>
    <div class="order-1 md:order-2 flex justify-center">
      <img 
        width="200" 
        height="200" 
        src={imagePath} 
        alt={personalImageAlt} 
        class="order-1 object-cover w-64 h-full p-1 md:order-2 rotate-3 lg:p-2 lg:w-64 aspect-square rounded-2xl bg-black/20 dark:bg-yellow-500/5 ring-1 ring-black/70 dark:ring-white/20 "
      />
    </div>
  </div>
</section>

<script>
  import { t } from "../utils/i18n";

  const updateAboutText = () => {
    const title = document.querySelector('#about h2');
    const paragraphs = document.querySelectorAll('#about p');

    if (title) title.textContent = t('about.title');
    paragraphs.forEach((p, index) => {
      p.innerHTML = t(`about.paragraph${index + 1}`);
    });
  };

  // Actualizar cuando cambia el idioma
  window.addEventListener('storage', (e) => {
    if (e.key === 'language') {
      updateAboutText();
    }
  });

  // Actualizar cuando se carga la pÃ¡gina
  document.addEventListener('astro:page-load', () => {
    updateAboutText();
  });
</script>
